<!doctype html>
<html>
	
<head>
	<link type="text/css" rel="stylesheet" href="random.css">
	</head>
	
<!Vue Framework Import>
<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
	
<div id="app">
	
	<ol>
		<button class="list_element" onClick="toggle(this)" v-for="char in characters">
		  <input type="checkbox" v-bind:id="char_box" v-bind:name="char" checked="true" class="char_boxes" hidden>
		  <img :name="char" :id="char_icon" class="char_icons">
		  {{char}}
		</button>
	</ol>
	<button id="generateBtn" onClick="generate()">Generate</button>
</div>
	
<div class="output_segment">
	<img id="outputImage" alt="empty output" hidden>
	<br>
	<label id="outputLabel" for="outputImage" hidden></label>
	</div>
	
<div class="select_box">
	<img id="keyImage" alt="blank image" hidden>
	<label></label>
	</div>
	
<script>
	function generate(){
		var boxes = document.querySelectorAll('input[type="checkbox"][ class="char_boxes"]:checked');
		var randomIndex = Math.floor(Math.random()*boxes.length);
		var selectedName = boxes.item(randomIndex).name
		
		document.getElementById('outputImage').alt=selectedName;
		document.getElementById('outputImage').src="img/portrait/"+selectedName+".png";
		document.getElementById('outputImage').hidden=false;
		
		document.getElementById('outputLabel').innerHTML = selectedName;
		document.getElementById('outputLabel').hidden = false;
	}
	
	function toggle(theDiv) {
		var charName = theDiv.textContent;
		var divBox = document.querySelectorAll('input[ class="char_boxes"][name='+charName+']');
		divBox = divBox.item(0);
		if(divBox.checked == true) {
			theDiv.style.backgroundColor = "#ACACAC";
			divBox.checked = false;
		} else {
			theDiv.style.backgroundColor = "greenyellow";
			divBox.checked = true;
		}
	}
		
	window.onload = function loadIcons(){
		var iconImages = document.querySelectorAll('img[class="char_icons"]');
		
		for(var i = 0; i < iconImages.length; i++){
			iconImages.item(i).src = "img/icon/"+iconImages.item(i).name+".png";
			iconImages.item(i).alt="Here";
		}
	}
</script>

	
<script>
	const app = new Vue({
		el: '#app',
		data: {
			characters: [
				'Brimstone',
				'Viper',
				'Omen',
				'Killjoy',
				'Cypher',
				'Sova',
				'Sage',
				'Phoenix',
				'Jett',
				'Reyna',
				'Raze',
				'Breach',
				'Skye',
				'Yoru',
				'Astra'
			]
		}
	})
	
</script>
	
</html>